clickhouse:
  # -- Container image to use for the ClickHouse.
  image: 
    repository: "projects.registry.vmware.com/antrea/flow-visibility-clickhouse-server"
    pullPolicy: "IfNotPresent"
    tag: "21.11"
  monitor:
    # -- Determine whether to run a monitor to periodically check the ClickHouse
    # memory usage and clean data.
    enable: true
    # -- The storage percentage at which the monitor starts to delete old records.
    # Vary from 0 to 1.
    threshold: 0.5
    # -- The percentage of records in ClickHouse that will be deleted when the
    # storage grows above threshold. Vary from 0 to 1.
    deletePercentage: 0.5
    # -- Container image to use for the ClickHouse Monitor.
    image:
      repository: "projects.registry.vmware.com/antrea/flow-visibility-clickhouse-monitor"
      pullPolicy: "IfNotPresent"
      tag: "latest"
  # -- ClickHouse username. It will be stored in a secret.
  username: "clickhouse_operator"
  # -- ClickHouse password. It will be stored in a secret.
  password: "clickhouse_operator_password"
  # -- HTTP port number for the ClickHouse service.
  httpPort: 8123
  # -- TCP port number for the ClickHouse service.
  tcpPort: 9000
  # -- ClickHouse storage size. Can be a plain integer or as a fixed-point
  # number using one of these quantity suffixes: E, P, T, G, M, K. Or the
  # power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki.
  storageSize: "8Gi"
  # -- Time to live in seconds for data in the ClickHouse.
  ttl: 3600
  persistentVolume:
    # -- Enable deploying the ClickHouse with Persistent Volumes.
    enable: false
    # -- Persistent Volume Provisioner. Required if Persistent Volumes is enable.
    # It must be one of "StorageClass", "Local", "NFS".
    provisioner: "Local"
    # -- The local path. Required when Persistent Volumes is enable and the
    # provisioner is "Local".
    localPath: "/data"
    # -- Affinity for the Local Persistent Volume. Required when Persistent
    # Volumes is enable and the provisioner is "Local".
    affinity: 
      required:
        nodeSelectorTerms:
        - matchExpressions:
          - key: clickhouse/instance
            operator: In
            values:
            - data
    # -- The NFS server hostname or IP address. Required when Persistent Volumes
    # is enable the provisioner is "NFS".
    nfsHost: ""
    # -- The path exported on the NFS server. Required when Persistent Volumes
    # is enable the provisioner is "NFS".
    nfsPath: ""
    # The StorageClass used to dynamically provision the Persistent Volume.
    # Required when Persistent Volumes is enable the provisioner is "StorageClass".
    storageClass: ""
grafana:
  # -- Grafana username. It will be stored in a secret.
  username: "admin"
  # -- Grafana password. It will be stored in a secret.
  password: "admin"
  # -- Container image to use for the Grafana.
  image: 
    repository: "projects.registry.vmware.com/antrea/flow-visibility-grafana"
    pullPolicy: "IfNotPresent"
    tag: "8.3.3"
  # -- TCP port number for the Grafana service.
  tcpPort: 3000
